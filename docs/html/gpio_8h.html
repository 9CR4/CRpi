<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CRpi: include/peripherals/gpio.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CRpi
   </div>
   <div id="projectbrief">A library for rpi with intefaces to: gpio, pwm, dma</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_5e7d457258874aaf9dabe6fd7863f814.html">peripherals</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gpio.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface to the GPIO peripheral.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="gpio_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a69774365f6cd74e0ff3e2155cdaf9fb4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a69774365f6cd74e0ff3e2155cdaf9fb4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#a69774365f6cd74e0ff3e2155cdaf9fb4">BCM_MIN</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a69774365f6cd74e0ff3e2155cdaf9fb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The lowest valid bcm port number. <br /></td></tr>
<tr class="separator:a69774365f6cd74e0ff3e2155cdaf9fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a112a4d21ea40374d695c0bf4e3f2efa7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a112a4d21ea40374d695c0bf4e3f2efa7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#a112a4d21ea40374d695c0bf4e3f2efa7">BCM_MAX</a>&#160;&#160;&#160;27</td></tr>
<tr class="memdesc:a112a4d21ea40374d695c0bf4e3f2efa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The highest valid bcm port number. <br /></td></tr>
<tr class="separator:a112a4d21ea40374d695c0bf4e3f2efa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a115a39d655c852fd8d7210dc30a6df79"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a115a39d655c852fd8d7210dc30a6df79"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#a115a39d655c852fd8d7210dc30a6df79">PORT_FUNCTION_INPUT</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a115a39d655c852fd8d7210dc30a6df79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port function: Input. used in <a class="el" href="gpio_8h.html#afd806966a7c76c92a6acf1771741ef57" title="Sets the function of the specified port. ">gpio_setFunction()</a> <br /></td></tr>
<tr class="separator:a115a39d655c852fd8d7210dc30a6df79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3006df2ff87b2ab47033a7dda5f2d8cf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3006df2ff87b2ab47033a7dda5f2d8cf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#a3006df2ff87b2ab47033a7dda5f2d8cf">PORT_FUNCTION_OUTPUT</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a3006df2ff87b2ab47033a7dda5f2d8cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port function: Output. used in <a class="el" href="gpio_8h.html#afd806966a7c76c92a6acf1771741ef57" title="Sets the function of the specified port. ">gpio_setFunction()</a> <br /></td></tr>
<tr class="separator:a3006df2ff87b2ab47033a7dda5f2d8cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627a584ac3f69adabda86870669533b8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a627a584ac3f69adabda86870669533b8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#a627a584ac3f69adabda86870669533b8">PORT_FUNCTION_ALT_0</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:a627a584ac3f69adabda86870669533b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port function: Alternative function 0. used in <a class="el" href="gpio_8h.html#afd806966a7c76c92a6acf1771741ef57" title="Sets the function of the specified port. ">gpio_setFunction()</a> <br /></td></tr>
<tr class="separator:a627a584ac3f69adabda86870669533b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40fb78a66abfc25cf8d10a47fed3fdee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40fb78a66abfc25cf8d10a47fed3fdee"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#a40fb78a66abfc25cf8d10a47fed3fdee">PORT_FUNCTION_ALT_1</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:a40fb78a66abfc25cf8d10a47fed3fdee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port function: Alternative function 1. used in <a class="el" href="gpio_8h.html#afd806966a7c76c92a6acf1771741ef57" title="Sets the function of the specified port. ">gpio_setFunction()</a> <br /></td></tr>
<tr class="separator:a40fb78a66abfc25cf8d10a47fed3fdee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3300901364f9dae33ee77e391b1bec3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac3300901364f9dae33ee77e391b1bec3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#ac3300901364f9dae33ee77e391b1bec3">PORT_FUNCTION_ALT_2</a>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:ac3300901364f9dae33ee77e391b1bec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port function: Alternative function 2. used in <a class="el" href="gpio_8h.html#afd806966a7c76c92a6acf1771741ef57" title="Sets the function of the specified port. ">gpio_setFunction()</a> <br /></td></tr>
<tr class="separator:ac3300901364f9dae33ee77e391b1bec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b94f361c93cfc6b8c2bda2ec56d7b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96b94f361c93cfc6b8c2bda2ec56d7b3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#a96b94f361c93cfc6b8c2bda2ec56d7b3">PORT_FUNCTION_ALT_3</a>&#160;&#160;&#160;7</td></tr>
<tr class="memdesc:a96b94f361c93cfc6b8c2bda2ec56d7b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port function: Alternative function 3. used in <a class="el" href="gpio_8h.html#afd806966a7c76c92a6acf1771741ef57" title="Sets the function of the specified port. ">gpio_setFunction()</a> <br /></td></tr>
<tr class="separator:a96b94f361c93cfc6b8c2bda2ec56d7b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a017b51e15ea99c56d446e0c3cbfffd87"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a017b51e15ea99c56d446e0c3cbfffd87"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#a017b51e15ea99c56d446e0c3cbfffd87">PORT_FUNCTION_ALT_4</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:a017b51e15ea99c56d446e0c3cbfffd87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port function: Alternative function 4. used in <a class="el" href="gpio_8h.html#afd806966a7c76c92a6acf1771741ef57" title="Sets the function of the specified port. ">gpio_setFunction()</a> <br /></td></tr>
<tr class="separator:a017b51e15ea99c56d446e0c3cbfffd87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af887aaa42732690d352fd481fc5721fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af887aaa42732690d352fd481fc5721fa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#af887aaa42732690d352fd481fc5721fa">PORT_FUNCTION_ALT_5</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:af887aaa42732690d352fd481fc5721fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port function: Alternative function 5. used in <a class="el" href="gpio_8h.html#afd806966a7c76c92a6acf1771741ef57" title="Sets the function of the specified port. ">gpio_setFunction()</a> <br /></td></tr>
<tr class="separator:af887aaa42732690d352fd481fc5721fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a71cdc8883c43e8ae777fb2b101d52fa1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#a71cdc8883c43e8ae777fb2b101d52fa1">gpio_init</a> ()</td></tr>
<tr class="memdesc:a71cdc8883c43e8ae777fb2b101d52fa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the interface, to be called before any other function in this file.  <a href="#a71cdc8883c43e8ae777fb2b101d52fa1">More...</a><br /></td></tr>
<tr class="separator:a71cdc8883c43e8ae777fb2b101d52fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa650f3d2177e95846ae069e2b6c9206a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa650f3d2177e95846ae069e2b6c9206a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#aa650f3d2177e95846ae069e2b6c9206a">gpio_isInit</a> ()</td></tr>
<tr class="memdesc:aa650f3d2177e95846ae069e2b6c9206a"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if gpio_init has been called with success <br /></td></tr>
<tr class="separator:aa650f3d2177e95846ae069e2b6c9206a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd806966a7c76c92a6acf1771741ef57"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#afd806966a7c76c92a6acf1771741ef57">gpio_setFunction</a> (int bcmPort, int function)</td></tr>
<tr class="memdesc:afd806966a7c76c92a6acf1771741ef57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the function of the specified port.  <a href="#afd806966a7c76c92a6acf1771741ef57">More...</a><br /></td></tr>
<tr class="separator:afd806966a7c76c92a6acf1771741ef57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a745e6eaf68b5b47f620d1e9e9563963c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#a745e6eaf68b5b47f620d1e9e9563963c">gpio_setOutput</a> (int bcmPort, int value)</td></tr>
<tr class="memdesc:a745e6eaf68b5b47f620d1e9e9563963c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the output at the specified port. The port will output this value if set to the output function. If you use this function with the port not set to output then the port will remember the value until you set it to the output function.  <a href="#a745e6eaf68b5b47f620d1e9e9563963c">More...</a><br /></td></tr>
<tr class="separator:a745e6eaf68b5b47f620d1e9e9563963c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b575037203e6c08902385caaf12010d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html#a0b575037203e6c08902385caaf12010d">gpio_setOutputAll</a> (uint64_t set, uint64_t clear)</td></tr>
<tr class="memdesc:a0b575037203e6c08902385caaf12010d"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets all the specified gpios to the specified values  <a href="#a0b575037203e6c08902385caaf12010d">More...</a><br /></td></tr>
<tr class="separator:a0b575037203e6c08902385caaf12010d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface to the GPIO peripheral. </p>
<p>This peripheral is able to set the function of each GPIO port and it's output status.<br />
See documentation at "BCM2835 ARM peripherals" page 89 </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a71cdc8883c43e8ae777fb2b101d52fa1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpio_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the interface, to be called before any other function in this file. </p>
<dl class="section return"><dt>Returns</dt><dd>negative in case of error </dd></dl>

</div>
</div>
<a class="anchor" id="afd806966a7c76c92a6acf1771741ef57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpio_setFunction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bcmPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the function of the specified port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bcmPort</td><td>The port bcm number </td></tr>
    <tr><td class="paramname">function</td><td>The desired function (PORT_FUNCTION_INPUT, PORT_FUNCTION_OUTPUT, PORT_FUNCTION_ALT_x)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>negative in case of error </dd></dl>

</div>
</div>
<a class="anchor" id="a745e6eaf68b5b47f620d1e9e9563963c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpio_setOutput </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bcmPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the output at the specified port. The port will output this value if set to the output function. If you use this function with the port not set to output then the port will remember the value until you set it to the output function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bcmPort</td><td>The port bcm number </td></tr>
    <tr><td class="paramname">value</td><td>0 means low, any other number means high</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>negative in case of error </dd></dl>

</div>
</div>
<a class="anchor" id="a0b575037203e6c08902385caaf12010d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpio_setOutputAll </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>clear</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets all the specified gpios to the specified values </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">set</td><td>The gpios to set to 1 </td></tr>
    <tr><td class="paramname">clear</td><td>The values to set to 0</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>negative in case of error </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
